{% extends 'shared/base.html' %}

{% block meta %}
<title>Cart</title>
{% endblock meta %}

{% block content %}
<div class="container">
    <div class="cartlist-div">
        <div class="col-md-6">
            <div class="tag-box">
                <h1>YOUR CART</h1>
            </div>
            <div class="mb-3">
                {% if cart_list %}
                {% for i in cart_list %}
                <div class="mb-3 shadow py-2 px-2 border-style border">
                    {{ forloop.counter }}.
                    <div class="pt-2 mx-3" style="display: flex; justify-content: space-between; align-items: center;">
                        <h1>{{i.product.name}}</h1>
                        <img src="{{ i.product.image.url }}" alt="" style="width: 100px; height: 100px;">
                    </div>
                    <div class="pt-2 mx-3">
                        <label for="price">Price:</label>
                        <h4>${{i.product.price}}</h4>
                    </div>
                    <div class="pt-2 mx-3">
                        <label for="quantity">Quantity:</label>
                        <h6 style="display: inline; margin: 0;">{{i.quantity}}</h6>
                    </div>
                    <div class="pt-2 mx-3">
                        <label for="price">Total Cost:</label>
                        <h4 id="totalcost">${{i.totalcost}}</h4>
                    </div>
                    <div class="px-2 mb-3"style="text-align: right;">
                        <!-- <a href="{% url 'buy_cart_item' id=i.id %}" class="btn btn-success"
                            onclick="return confirm('Are you sure you want to purchase this item?');">Checkout</a> -->
                            <a href="{% url 'cart_item_update' id=i.id %}" class="btn btn-success">Update</a>
                        <a href="{% url 'cart_delete' id=i.id %}" class="btn btn-danger"
                            onclick="return confirm('Are you sure you want to delete this item?');">Remove</a>
                    </div>
                </div>
                {% endfor %}
                {% else %}
                <h2>You have no items in your cart!</h2>
                {% endif %}
            </div>
        </div>
        <div class="col-md-6 mx-3">
            <div class="tag-box">
                <h1>CHECKOUT</h1>
            </div>
            <div class="mb-3">
                <div class="mb-3 shadow py-2 px-2 border-style border">
                    <div class="pt-2 mx-3">
                        <div>
                            <label>Total Amount to Pay:</label>
                            <h4 style="display: inline-block;" id="valueDisplay">&nbsp;${{totalamount}}</h4>
                        </div>
                        <div class="mb-3">
                            <a href="" class="btn btn-primary"
                            onclick="return confirm('Are you sure you want to purchase this item?');">Checkout</a>
                        </div>   
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock content %}